{"version":3,"sources":["../../../src/pages/AssetPage/StaticAssetPage.tsx"],"names":["React","useEffect","useParams","useHistory","styled","Grid","Row","Cell","Breadcrumb","AssetMeta","useDispatch","EVENT_ASSET_OPEN","EVENT_ASSET_LAUNCH","SCENE_LEARNING_ASSET","sendEvent","formatDuration","setScene","useLearningAsset","isValidPrimative","GraphCmsInstanceContext","useRenderMeasure","useScrollToTop","GenericLoadingScreen","ErrorPage","FocusedAsset","ErrorPageType","AppMeta","PlaylistHeader","StaticPlaylist","ErrorBoundary","STATIC_LEARNING_ASSET_AREA","AssetPageContainer","div","theme","color","grey1","AssetPageWithContext","memo","landingPageContent","StaticAssetPageV2","slices","metaTitle","metaDescription","appMetaProps","title","description","canonical","generator","additionalMetas","name","content","dispatch","history","id","useContext","instance","staticInstance","basePath","slice","edges","node","staticPlaylistSection","sliceHead","pageComponents","assetId","parseInt","split","asset","learningAssetData","assetCache","assetLoading","assetError","length","TECHNICAL_ERROR","learningAssetMeta","competencies","providerName","provider","primaryCompetency","text","handleLaunching","url","window","open","focus","addEmbed","embedVideoURL","image","isVideo","test","join","concat","to","key","isRouterLink","videoLoadingError","launchButtonLabel","competencyInfo","location","state","embeddedAsset","label","providerLabel","value","primaryCompetencyLabel","typeLabel","type","lengthLabel","duration","language","staticPlaylists","undefined","playlistName","push","pathname","desktop","size","tablet","mobileBig","mobile"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\nimport {useParams} from 'react-router-dom';\nimport {useHistory} from 'react-router';\nimport styled from 'styled-components';\nimport {\n  Grid,\n  Row,\n  Cell,\n  Breadcrumb,\n  AssetMeta,\n  Asset,\n} from '@matthill8286/atomic-ui';\nimport {useDispatch} from 'react-redux';\nimport {EVENT_ASSET_OPEN, EVENT_ASSET_LAUNCH} from '@/constants/EventConstants';\nimport {SCENE_LEARNING_ASSET} from '@/constants/Scenes';\nimport {sendEvent} from '@/store/event';\nimport {formatDuration} from '@/utils/formatDuration/formatDuration';\nimport {setScene} from '@/store/UI/ui.actions';\nimport {useLearningAsset} from '@/app/asset/hooks';\nimport {isValidPrimative} from '@/utils/stringHelper/stringHelper';\nimport {CmsContext, GraphCmsInstanceContext} from '@/context/instance';\nimport {useRenderMeasure, useScrollToTop} from '@/hooks';\nimport {GenericLoadingScreen} from '@/components/GenericLoadingScreen';\nimport {ErrorPage} from '@/components/Error';\nimport {FocusedAsset} from '@/app/asset/components/FocusedAsset';\nimport {ErrorPageType} from '../../types';\nimport {\n  AppMeta,\n  AppMetaProps,\n  PageTemplateProps,\n  PlaylistHeader,\n  StaticPlaylist,\n} from '../../components';\nimport ErrorBoundary from '@/components/ErrorBoundaryPage/ErrorBoundaryPage';\n\nconst STATIC_LEARNING_ASSET_AREA = 'Static Learning Asset';\n\nconst AssetPageContainer = styled.div`\n  background-color: ${({theme}) => theme.color.grey1};\n`;\n\nexport const AssetPageWithContext = React.memo<\n  PageTemplateProps['landingPageContent']\n>(({landingPageContent}: PageTemplateProps['landingPageContent']) => {\n  return (\n    <ErrorBoundary>\n      <StaticAssetPageV2 landingPageContent={landingPageContent} />\n    </ErrorBoundary>\n  );\n});\n\nexport default AssetPageWithContext;\n\nexport const StaticAssetPageV2 = ({\n  landingPageContent,\n}: PageTemplateProps['landingPageContent']) => {\n  useRenderMeasure(STATIC_LEARNING_ASSET_AREA);\n  useScrollToTop();\n\n  const {slices, metaTitle, metaDescription} = landingPageContent;\n\n  const appMetaProps: AppMetaProps = {\n    title: metaTitle,\n    description: metaDescription,\n    canonical: '',\n    generator: 'ASSET_PAGE',\n    additionalMetas: [{name: 'robots', content: 'follow'}],\n  };\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {id} = useParams<{id: string}>();\n\n  const {instance, staticInstance, basePath} = React.useContext<CmsContext>(\n    GraphCmsInstanceContext\n  );\n  // @ts-ignore\n  const slice = staticInstance?.instance?.edges?.[0]?.node;\n  const staticPlaylistSection = {...(slice?.staticPlaylistSection || {})};\n  const sliceHead = slices?.[0]?.pageComponents;\n\n  const assetId = parseInt(id.split('-')[0], 0);\n\n  useEffect(() => {\n    if (assetId) {\n      dispatch(setScene(SCENE_LEARNING_ASSET)); // FIXME: remove once events get updated\n      dispatch(sendEvent(EVENT_ASSET_OPEN, {asset: {id: assetId}}));\n    }\n  }, [assetId]);\n\n  const {\n    assetCache: learningAssetData,\n    assetLoading,\n    assetError,\n  } = useLearningAsset(assetId);\n\n  if (assetLoading && !learningAssetData) {\n    return <GenericLoadingScreen />;\n  }\n\n  if ((!assetLoading && !slices.length) || (!assetLoading && assetError)) {\n    return <ErrorPage errorType={ErrorPageType.TECHNICAL_ERROR} />;\n  }\n\n  const learningAssetMeta = sliceHead?.learningAssetMeta;\n  const competencies = learningAssetData?.competencies;\n  const providerName = learningAssetData?.provider?.name;\n  const primaryCompetency = competencies && competencies[0]?.text;\n\n  const handleLaunching = () => {\n    const {url, id} = learningAssetData;\n    if (!isValidPrimative(url)) {\n      return;\n    }\n    dispatch(sendEvent(EVENT_ASSET_LAUNCH, {asset: learningAssetData}));\n    window?.open(url, 'StaticAssetLaunchWindow')?.focus();\n  };\n\n  const addEmbed = () => {\n    if (!learningAssetData) {\n      return '';\n    }\n    const {embedVideoURL, image} = learningAssetData;\n    const url = isVideo() ? embedVideoURL : image;\n\n    // Youtube come as youtube.com/watch?v= and need to be youtube.com/embed/\n    if (/youtube\\.com/i.test(url)) {\n      return url.split(/watch\\?v=/i).join('embed/');\n    }\n    // Youtube come as youtu.be/ and need to be youtube.com/embed/\n    if (/youtu\\.be/i.test(url)) {\n      return `https://www.youtube.com/embed/${url.split('/')[3]}`;\n    }\n    // Vimeo links need to be player.vimeo.com/video/\n    // but avoid changing 'event' links as these are streams\n    if (/vimeo\\.com\\/(?!video|event)/i.test(url)) {\n      return `https://player.vimeo.com/video/${url.split('/')[3]}`;\n    }\n    // Ted links come as www.ted.com and need to be embed.ted.com\n    if (/ted\\.com/i.test(url)) {\n      return url.split(/www/i).join('embed');\n    }\n    // Preventing http:// being served with https://\n    if (/http:\\/\\//i.test(url)) {\n      return url.split(/http:\\/\\//i).join('https://');\n    }\n    if (!/http/i.test(url)) {\n      return 'https://'.concat(url);\n    }\n\n    return url;\n  };\n\n  const isVideo = () => {\n    return isValidPrimative(learningAssetData?.embedVideoURL);\n  };\n\n  return (\n    <AssetPageContainer>\n      <AppMeta key=\"app-meta-content-special\" {...appMetaProps} />\n      <Grid>\n        <Row>\n          <Cell columns={12} justify=\"flex-start\">\n            <Breadcrumb\n              margin=\"lg 0 0 0\"\n              homeLink={basePath}\n              paths={[\n                {\n                  to: `/learning-asset/${learningAssetData?.id}`,\n                  key: 'learning-asset',\n                  isRouterLink: true,\n                  name: learningAssetData?.title,\n                },\n              ]}\n            />\n          </Cell>\n        </Row>\n        <Row>\n          <Cell columns={8} colsLg={8} colsMd={8}>\n            <FocusedAsset\n              loading={false}\n              description={learningAssetData?.description}\n              src={addEmbed()}\n              title={learningAssetData?.title}\n              videoText={sliceHead?.videoLoadingError}\n              video={isVideo()}\n            />\n          </Cell>\n          <Cell columns={4} colsLg={4} colsMd={8} colsSm={8} colsXs={4}>\n            <AssetMeta\n              buttonTextLaunch={learningAssetMeta?.launchButtonLabel}\n              launchHandler={handleLaunching}\n              competencyCopy={learningAssetMeta?.competencyInfo}\n              isLandingPage\n              hideLaunched={history?.location?.state?.embeddedAsset ?? false}\n              isBookmarkInteraction={false}\n              isCreatePlaylistInteraction={false}\n              isShareInteraction={false}\n              list={[\n                {\n                  label: learningAssetMeta?.providerLabel,\n                  value: providerName,\n                },\n                {\n                  label: learningAssetMeta?.primaryCompetencyLabel,\n                  value: primaryCompetency,\n                },\n                {\n                  label: learningAssetMeta?.typeLabel,\n                  value: learningAssetData?.type?.name ?? '',\n                },\n                {\n                  label: learningAssetMeta?.lengthLabel,\n                  value: formatDuration(\n                    learningAssetData?.duration,\n                    learningAssetData?.language\n                  ),\n                },\n              ]}\n              tags={competencies}\n            />\n          </Cell>\n        </Row>\n      </Grid>\n      {staticPlaylistSection && (\n        <StaticPlaylist\n          playlistId={sliceHead?.id}\n          staticPlaylists={staticPlaylistSection?.staticPlaylists}\n          tooltip={undefined}\n          showLock={false}\n          title={\n            <PlaylistHeader\n              marginTop=\"xl\"\n              title={staticPlaylistSection?.name}\n              name={staticPlaylistSection?.staticPlaylists?.[0]?.playlistName}\n              key=\"Header\"\n            />\n          }\n          paddingTop=\"0\"\n          desktop={4}\n          strategyType=\"static\"\n          context=\"StaticPlaylist\"\n          // @ts-ignore\n          onAssetClick={(asset: Asset) => {\n            history.push({\n              pathname: `/home/learning-asset/${asset?.id}?pid_hint=${sliceHead?.id}`,\n              // @ts-ignore\n              state: {embeddedAsset: asset?.embeddedAsset},\n            });\n          }}\n          slidesPerPageSettings={{\n            desktop: staticPlaylistSection?.size ?? 4,\n            tablet: 2,\n            mobileBig: 2,\n            mobile: 1,\n          }}\n          loading={false}\n          key={`AssetPagePlaylist-${sliceHead?.id}`}\n        />\n      )}\n    </AssetPageContainer>\n  );\n};\n"],"file":"StaticAssetPage.js"}