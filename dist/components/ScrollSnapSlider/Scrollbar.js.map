{"version":3,"sources":["../../../src/components/ScrollSnapSlider/Scrollbar.tsx"],"names":["React","StyledScrollbar","Scrollbar","sliderRef","useState","handlePositionLeft","setHandlePositionLeft","handleWidth","setHandleWidth","isSliderScrollable","setIsSliderScrollable","onSliderScroll","useCallback","scrollLeft","current","scrollWidth","clientWidth","newHandleWidth","useEffect","removeEventListener","addEventListener","left","width"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,2BAAhC;AAEA,OAAO,IAAMC,SAEX,GAAG,SAFQA,SAER,OAAmB;AAAA,MAAhBC,SAAgB,QAAhBA,SAAgB;;AACtB,wBAAoDH,KAAK,CAACI,QAAN,CAAe,IAAf,CAApD;AAAA;AAAA,MAAOC,kBAAP;AAAA,MAA2BC,qBAA3B;;AACA,yBAAsCN,KAAK,CAACI,QAAN,CAAe,IAAf,CAAtC;AAAA;AAAA,MAAOG,WAAP;AAAA,MAAoBC,cAApB;;AACA,yBAAoDR,KAAK,CAACI,QAAN,CAAe,KAAf,CAApD;AAAA;AAAA,MAAOK,kBAAP;AAAA,MAA2BC,qBAA3B;;AAEA,MAAMC,cAAc,GAAGX,KAAK,CAACY,WAAN,2CAAkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACjCC,YAAAA,UADiC,GACpB,CAAAV,SAAS,SAAT,IAAAA,SAAS,WAAT,kCAAAA,SAAS,CAAEW,OAAX,0EAAoBD,UAApB,KAAkC,CADd;AAEjCE,YAAAA,WAFiC,GAEnB,CAAAZ,SAAS,SAAT,IAAAA,SAAS,WAAT,mCAAAA,SAAS,CAAEW,OAAX,4EAAoBC,WAApB,KAAmC,CAFhB;AAIvCT,YAAAA,qBAAqB,WAAI,OAAOO,UAAU,IAAIE,WAAW,IAAI,CAAnB,CAAjB,CAAJ,OAArB;AAEMC,YAAAA,WANiC,GAMnB,CAAAb,SAAS,SAAT,IAAAA,SAAS,WAAT,mCAAAA,SAAS,CAAEW,OAAX,4EAAoBE,WAApB,KAAmC,CANhB;AAOjCC,YAAAA,cAPiC,aAOb,OAAOD,WAAW,IAAID,WAAW,IAAI,CAAnB,CAAlB,CAPa;AASvCP,YAAAA,cAAc,CAAC,UAAAM,OAAO;AAAA,qBAAKG,cAAc,KAAKH,OAAnB,GAA6BG,cAA7B,GAA8CH,OAAnD;AAAA,aAAR,CAAd;AAEAJ,YAAAA,qBAAqB,CAAC,UAAAI,OAAO,EAAI;AAC/B,kBAAIC,WAAW,GAAGC,WAAW,GAAG,CAAhC,EAAmC;AACjC,oBAAI,CAACF,OAAL,EAAc,OAAO,IAAP;AACf,eAFD,MAEO,IAAIA,OAAJ,EAAa;AAClB,uBAAO,KAAP;AACD;;AACD,qBAAOA,OAAP;AACD,aAPoB,CAArB;;AAXuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB,IAmBpB,CAACX,SAAD,CAnBoB,CAAvB;AAqBAH,EAAAA,KAAK,CAACkB,SAAN,CAAgB,YAAM;AAAA;;AACpBf,IAAAA,SAAS,SAAT,IAAAA,SAAS,WAAT,mCAAAA,SAAS,CAAEW,OAAX,4EAAoBK,mBAApB,CAAwC,QAAxC,EAAkDR,cAAlD;AACAR,IAAAA,SAAS,SAAT,IAAAA,SAAS,WAAT,mCAAAA,SAAS,CAAEW,OAAX,4EAAoBM,gBAApB,CAAqC,QAArC,EAA+CT,cAA/C;AACAA,IAAAA,cAAc;AAEd,WAAO;AAAA;;AAAA,aAAMR,SAAN,aAAMA,SAAN,8CAAMA,SAAS,CAAEW,OAAjB,wDAAM,oBAAoBK,mBAApB,CAAwC,QAAxC,EAAkDR,cAAlD,CAAN;AAAA,KAAP;AACD,GAND,EAMG,CAACA,cAAD,EAAiBR,SAAjB,CANH;AAQA,MAAI,CAACM,kBAAL,EAAyB,OAAO,IAAP;AAEzB,SACE,oBAAC,eAAD;AAAiB,IAAA,kBAAkB,EAAEA;AAArC,KACE;AAAM,IAAA,KAAK,EAAE;AAAEY,MAAAA,IAAI,EAAEhB,kBAAR;AAA4BiB,MAAAA,KAAK,EAAEf;AAAnC;AAAb,IADF,CADF;AAKD,CA3CM","sourcesContent":["import React from 'react'\nimport { StyledScrollbar } from './ScrollSnapSlider.styled'\n\nexport const Scrollbar: React.FC<{\n  sliderRef?: React.RefObject<HTMLDivElement>\n}> = ({ sliderRef }) => {\n  const [handlePositionLeft, setHandlePositionLeft] = React.useState('0%')\n  const [handleWidth, setHandleWidth] = React.useState('0%')\n  const [isSliderScrollable, setIsSliderScrollable] = React.useState(false)\n\n  const onSliderScroll = React.useCallback(async () => {\n    const scrollLeft = sliderRef?.current?.scrollLeft || 0\n    const scrollWidth = sliderRef?.current?.scrollWidth || 0\n\n    setHandlePositionLeft(`${100 * (scrollLeft / (scrollWidth || 1))}%`)\n\n    const clientWidth = sliderRef?.current?.clientWidth || 0\n    const newHandleWidth = `${100 * (clientWidth / (scrollWidth || 1))}%`\n\n    setHandleWidth(current => (newHandleWidth !== current ? newHandleWidth : current))\n\n    setIsSliderScrollable(current => {\n      if (scrollWidth > clientWidth + 1) {\n        if (!current) return true\n      } else if (current) {\n        return false\n      }\n      return current\n    })\n  }, [sliderRef])\n\n  React.useEffect(() => {\n    sliderRef?.current?.removeEventListener('scroll', onSliderScroll)\n    sliderRef?.current?.addEventListener('scroll', onSliderScroll)\n    onSliderScroll()\n\n    return () => sliderRef?.current?.removeEventListener('scroll', onSliderScroll)\n  }, [onSliderScroll, sliderRef])\n\n  if (!isSliderScrollable) return null\n\n  return (\n    <StyledScrollbar isSliderScrollable={isSliderScrollable}>\n      <span style={{ left: handlePositionLeft, width: handleWidth }} />\n    </StyledScrollbar>\n  )\n}\n"],"file":"Scrollbar.js"}